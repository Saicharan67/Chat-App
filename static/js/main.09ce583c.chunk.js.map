{"version":3,"sources":["assets/StartChat2.svg","assets/login.svg","assets/sign.svg","Components/PrivateRoute.js","actions/constants.js","actions/user.actions.js","Components/Header/index.js","actions/auth.actions.js","Components/layout/index.js","Containers/Home/index.js","Containers/Login/index.js","Containers/Register/index.js","App.js","serviceWorker.js","reducers/user.reducer.js","reducers/auth.reducer.js","reducers/index.js","store/index.js","index.js"],"names":["module","exports","PrivateRoute","Component","component","rest","props","user","localStorage","getItem","JSON","parse","console","log","to","authConstants","UserConstants","getRealTimeNumberOfMessages","uid","dispatch","firestore","collection","where","onSnapshot","querySnapshot","newMessages","forEach","doc","data","user_uid_2","user_uid_1","type","payload","messages","Header","auth","useSelector","state","useDispatch","useState","logoutclicked","setlogoutclicked","className","authenticated","style","display","margin","color","fontWeight","FirstName","LastName","onClick","a","update","isOnline","then","signOut","clear","catch","error","err","fontSize","Layout","children","User","newmessages","e","key","src","alt","flex","justifyContent","pointerEvents","aria-hidden","HomePage","unsubscribe","ChatStarted","setChatStarted","ChatUser","setChatUser","message","setmessage","UserUid","setUserUid","view","setvisible","useEffect","db","users","push","f","initChat","talkingwith","u","nusers","document","getElementsByClassName","i","length","target","orderBy","conversations","uid_1","uid_2","getRealTimeConversations","id","isView","submitMsg","chatHistory","scrollTop","scrollHeight","msgObj","add","createdAt","Date","updateMessage","map","con","textAlign","marginTop","width","height","viewBox","fill","xmlns","fillrule","d","fill-rule","require","position","alignItems","value","placeholder","onChange","onKeyDown","event","effect","onClickAway","visible","onSelect","emoji","native","LoginPage","email","setEmail","password","setPassword","ButtonClicked","setButtonClicked","SignupButtonClicked","setsignup","name","href","preventDefault","signInWithEmailAndPassword","displayName","split","loggedInUser","setItem","stringify","alert","SignUpPage","setFirstName","setlastName","LoginButtonClicked","setLoginclicked","class","innerHTML","createUserWithEmailAndPassword","currentUser","updateProfile","set","signup","App","path","exact","Boolean","window","location","hostname","match","initstate","authenticating","rootReducer","combineReducers","action","Store","createStore","applyMiddleware","thunk","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","store","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.09ce583c.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/StartChat2.b72f9c93.svg\";","module.exports = __webpack_public_path__ + \"static/media/login.303e4a67.svg\";","module.exports = __webpack_public_path__ + \"static/media/sign.a32792fd.svg\";","import React from 'react'\r\nimport {Redirect, Route} from 'react-router-dom'\r\n/**\r\n* @author\r\n* @function PrivateRoute\r\n**/\r\n\r\nconst PrivateRoute = ({component: Component, ...rest}) => {\r\n  return(\r\n    <Route {...rest}  component={(props)=>{\r\n        const user = localStorage.getItem('users') ? JSON.parse(localStorage.getItem('users')) : null;\r\n        console.log(user)\r\n       if(user){\r\n           return <Component {...props}/>\r\n       }else{\r\n           return <Redirect to={'/login'}/> \r\n       }\r\n   \r\n    }}/>\r\n   )\r\n\r\n }\r\n\r\nexport default PrivateRoute","export const authConstants = {\r\n    USER_LOGIN: 'USER_LOGIN',\r\n\r\n    USER_LOGOUT: \"USERLOGOUT\"\r\n}\r\n\r\nexport const UserConstants ={\r\n    GET_REAL_TIME_USERS: 'GET_REAL_TIME_USERS',\r\n    GET_REALTIME_MESSAGES: ' GET_REALTIME_MESSAGES',\r\n    GET_REALTIME_NEW_MESSAGES: 'GET_REALTIME_NEW_MESSAGES'\r\n}","import { UserConstants } from \"./constants\"\r\nimport {firestore} from 'firebase'\r\nexport const getRealTimeUsers = (uid) => {\r\n   \r\nreturn async dispatch => {\r\n    dispatch({\r\n        type: `${UserConstants.GET_REAL_TIME_USERS}_REQUEST`\r\n    });\r\n    const db =firestore()\r\n   const unsubscribe = db.collection(\"users\")\r\n    .onSnapshot((querySnapshot)=> {\r\n        const  users = [];\r\n        querySnapshot.forEach(function(doc) {\r\n            if(doc.data().uid !== uid){\r\n                users.push(doc.data());\r\n            }\r\n         \r\n        });\r\n         console.log(users);\r\n       dispatch({\r\n           type: `${UserConstants.GET_REAL_TIME_USERS}_SUCCESS`,\r\n           payload: {users}\r\n       })\r\n    });\r\n    return unsubscribe;\r\n}\r\n}\r\n\r\n\r\n\r\n\r\n\r\nexport const getRealTimeConversations =(user)=> {\r\n    return async dispatch => {\r\n        const db =firestore()\r\n      db.collection('conversation')\r\n       // .where('user_uid_1','in',[user.uid_1,user.uid_2])\r\n        .orderBy('createdAt','asc')\r\n        .onSnapshot((querySnapshot)=>{\r\n            const conversations = []\r\n            querySnapshot.forEach(doc=>{\r\n                if(\r\n                    (doc.data().user_uid_1 === user.uid_1 && doc.data().user_uid_2 === user.uid_2)\r\n                    || \r\n                    (doc.data().user_uid_1 === user.uid_2 && doc.data().user_uid_2 === user.uid_1)\r\n                ){\r\n                    conversations.push(doc.data())\r\n                   \r\n\r\n                }\r\n                \r\n                  \r\n            })\r\n           \r\n                console.log(user.uid_1,user.uid_2)\r\n            dispatch({\r\n                type: UserConstants.GET_REALTIME_MESSAGES,\r\n                payload: { conversations }\r\n            })\r\n            console.log(conversations)\r\n        })    \r\n       \r\n    }\r\n \r\n    \r\n}\r\nexport const getRealTimeNumberOfMessages = (uid) => {\r\n   \r\n    return  dispatch => {\r\n        const db =firestore()\r\n       \r\n        \r\n            \r\n            db.collection('conversation')\r\n           .where('isView','==', false)\r\n           .onSnapshot((querySnapshot)=>{\r\n            const newMessages={}\r\n            querySnapshot.forEach(doc=>{\r\n               \r\n               if( doc.data().user_uid_2===uid ){\r\n                             \r\n                               newMessages[doc.data().user_uid_1] = newMessages[doc.data().user_uid_1]?newMessages[doc.data().user_uid_1]+1:1\r\n                            \r\n               }                 \r\n            })\r\n            //console.log(newMessages)\r\n            const messages = newMessages\r\n            dispatch({\r\n                type: UserConstants.GET_REALTIME_NEW_MESSAGES,\r\n                payload: {messages}\r\n            })\r\n          \r\n         \r\n        })    \r\n        \r\n        \r\n       \r\n       \r\n        \r\n       \r\n}\r\n}\r\nexport const updateRealTimeView = (u) => {\r\n    return async () => {\r\n        \r\n        const db = firestore()\r\n        console.log(u.uid_1,u.uid_2)\r\n       db.collection('conversation')\r\n        .where('isView','==', false)\r\n        .where('user_uid_2','==',u.uid_1)\r\n        .where('user_uid_1','==',u.uid_2)\r\n        .onSnapshot((querySnapshot)=>{\r\n         \r\n            querySnapshot.forEach(doc=>{\r\n              \r\n                  if(doc.data().user_uid_1==u.uid_2 && doc.data().user_uid_2==u.uid_1){\r\n                      \r\n                    db.collection('conversation')\r\n                    .doc(doc.id)\r\n                    .update({\r\n                        isView: true\r\n                    })\r\n                    .then(()=>{\r\n                        console.log('isViewed')\r\n                       \r\n                       \r\n                    })\r\n                    .catch(()=>{\r\n                        console.log('NotViewed')\r\n                    })\r\n                   \r\n                  }\r\n                  \r\n                \r\n\r\n                \r\n                  \r\n            })\r\n            \r\n        })    \r\n        \r\n      \r\n       \r\n       \r\n}\r\n \r\n}\r\nexport const updateMessage = (msgObj) => {\r\n    return async dispatch => {\r\n        const db =firestore();\r\n       const unsubscribe =  db.collection('conversation')\r\n        .add({\r\n            ...msgObj,\r\n            isView: false,\r\n            createdAt: new Date()\r\n        })\r\n        .then((data)=>{\r\n           \r\n            console.log(data,'msg updated')\r\n            \r\n        })\r\n        .catch(err=>{\r\n            console.log(err)\r\n        })\r\n\r\n       \r\n    }\r\n}","import React, { useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport {NavLink,Link} from 'react-router-dom'\r\nimport './style.css'\r\nimport {logout} from '../../actions'\r\n/**\r\n* @author\r\n* @function Header\r\n**/\r\n\r\nconst Header = (props) => {\r\n    const auth = useSelector(state => state.auth)\r\n    const dispatch = useDispatch()\r\n    const [logoutclicked,setlogoutclicked] = useState(false)\r\n\r\n    \r\n  return(\r\n    <header className={auth.authenticated? \"header\" : 'loginheader'}>\r\n        <div style={{display: 'flex'}}>\r\n            <div className='logo'>Chat-App</div>\r\n        </div>\r\n       \r\n  <div style={{margin: '20px 0' , color: '#fff' , fontWeight: '3rem'}}>{auth.authenticated ? `Hi ${auth.FirstName} ${auth.LastName}`: ''}</div>\r\n        <ul className=\"menu\">\r\n          {\r\n              auth.authenticated ? \r\n              <li>\r\n              <Link className='logout' to={\"#\"} onClick={()=>{\r\n                setlogoutclicked(true)\r\n                dispatch(logout(auth.uid))\r\n              }}>{\r\n                \r\n                 logoutclicked ?\r\n                 <i style={{fontSize:'20px'}}className=\"fa fa-spinner fa-spin \"></i>\r\n                 : 'Logout'\r\n                 \r\n              }</Link>\r\n              </li>\r\n              :null\r\n\r\n          }\r\n        </ul>\r\n          {\r\n            !auth.authenticated ?\r\n            <ul className=\"RightMenu\">\r\n            <li><NavLink to={'./login'}>Login</NavLink></li>\r\n            <li><NavLink to={'./signup'}>Signup</NavLink></li>\r\n            </ul>: null\r\n            }\r\n    </header>\r\n   )\r\n\r\n }\r\n\r\nexport default Header","import {auth,firestore} from 'firebase'\r\nimport { authConstants } from './constants';\r\nexport const signup = (user) => {\r\n    return async (dispatch)=>{\r\n        const db =firestore();\r\n        dispatch({type: `${authConstants.USER_LOGIN}_REQUEST`})\r\n        auth()\r\n        .createUserWithEmailAndPassword(user.email, user.password)\r\n        .then(data => {\r\n           \r\n            const currentUser = auth().currentUser;\r\n            const name =`${user.FirstName} ${user.LastName}`\r\n            currentUser.updateProfile({\r\n                displayName: name\r\n               \r\n            })\r\n            \r\n            .then(()=>{\r\n                console.log(data)\r\n               db.collection('users')\r\n               .doc(data.user.uid)\r\n               .set({\r\n                   FirstName: user.FirstName,\r\n                   LastName: user.LastName,\r\n                   uid: data.user.uid,\r\n                   createdAt: new Date(),\r\n                   isOnline : true\r\n               })\r\n               .then(()=>{\r\n                   const loggedInUser = {\r\n                    FirstName: user.FirstName,\r\n                    LastName: user.LastName,\r\n                    uid: data.user.uid,\r\n                    email: user.email\r\n                   }\r\n                localStorage.setItem('users' ,JSON.stringify({\r\n                    loggedInUser\r\n                }))\r\n                console.log(\"Sign Up  success\")\r\n                dispatch({\r\n                    type: `${authConstants.USER_LOGIN}_SUCCESS`,\r\n                    payload: {user: loggedInUser}\r\n                })\r\n               })\r\n               .catch(err=>{\r\n                alert(err)\r\n                dispatch({type:`${authConstants.USER_LOGIN}_FAILURE`,\r\n            payload: {err} })\r\n               })\r\n           })\r\n        })\r\n        .catch(err=>alert(err))\r\n    }\r\n} \r\nexport const signin = (user)=> {\r\n    return async dispatch => {\r\n        dispatch({type: `${authConstants.USER_LOGIN}_REQUEST`})\r\n        const db = firestore()\r\n        auth()\r\n        .signInWithEmailAndPassword(user.email,user.password)\r\n        .then((data)=>{\r\n              console.log(\"SignIn Data\",data)\r\n              db.collection('users')\r\n            .doc(data.user.uid)\r\n            .update({\r\n                isOnline: true\r\n            })\r\n            .then(()=>{\r\n                    const name = data.user.displayName.split(\" \");\r\n                    const FirstName = name[0]\r\n                    const LastName = name[1]\r\n                    const loggedInUser = {\r\n                    FirstName,\r\n                    LastName,\r\n                    uid: data.user.uid,\r\n                    email: data.user.email,\r\n    \r\n                    }\r\n                    \r\n                    localStorage.setItem('users',JSON.stringify(loggedInUser))\r\n                    dispatch({\r\n                        type: `${authConstants.USER_LOGIN}_SUCCESS`,\r\n                        payload: {user: loggedInUser}\r\n                    })\r\n                    console.log(\"Logged In successfully\")\r\n            })\r\n            .catch((err)=>{\r\n                  alert(err)\r\n            })\r\n              \r\n        })\r\n        .catch((err)=>{\r\n            alert(err)\r\n            dispatch({\r\n                type: `${authConstants.USER_LOGIN}_FAILURE`,\r\n                payload: {err}\r\n            })\r\n        })\r\n    }\r\n}\r\nexport const isLoggedInUser = () => {\r\n    return async dispatch => {\r\n      const user =   localStorage.getItem('users') ? JSON.parse(localStorage.getItem('users')) : null\r\n    \r\n    if(user){\r\n        dispatch({\r\n            type: `${authConstants.USER_LOGIN}_SUCCESS`,\r\n            payload: {user: user}\r\n        })\r\n    }\r\n    else{\r\n        dispatch({\r\n            type: `${authConstants.USER_LOGIN}_FAILURE`,\r\n            payload: {err: 'Login Again Please'}\r\n        })\r\n    }\r\n}\r\n}\r\n\r\nexport const logout = (uid) => {\r\n    return async dispatch => {\r\n        dispatch({\r\n            type: `${authConstants.USER_LOGOUT}_REQUEST`\r\n        })\r\n        const db = firestore()\r\n        db.collection('users')\r\n        .doc(uid)\r\n        .update({\r\n            isOnline: false\r\n        })\r\n        .then(()=>{\r\n            auth()\r\n            .signOut()\r\n            .then(()=>{\r\n               localStorage.clear()\r\n               dispatch({\r\n                   type : `${authConstants.USER_LOGIN}_SUCCESS`\r\n               })\r\n            })\r\n            .catch(error => {\r\n               \r\n                dispatch({\r\n                    type: `${authConstants.USER_LOGIN}_FAILURE`,\r\n                    payload: {error}\r\n                })\r\n            })\r\n        })\r\n        .catch((err)=>{\r\n            console.log(err)\r\n        })\r\n        \r\n    }\r\n}","import React from 'react'\r\nimport Header from '../Header'\r\n\r\nconst Layout = (props)=> {\r\n    return (\r\n        <div>\r\n           <Header/>\r\n            {props.children}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Layout","// import React from 'react'\r\nimport Layout from '../../Components/layout'\r\nimport {firestore} from 'firebase'\r\nimport Modal from 'react-awesome-modal';\r\n\r\n// /**\r\n// * @author\r\n// * @function HomePage\r\n// **/\r\n\r\n// const HomePage = (props) => {\r\n \r\n//   return(\r\n//       <Layout>\r\n//        <div>HomePage</div>\r\n//       </Layout>\r\n   \r\n//    )\r\n\r\n//  }\r\n\r\n// export default HomePage\r\nimport 'emoji-mart/css/emoji-mart.css'\r\nimport { Picker } from 'emoji-mart'\r\nimport React, { useEffect, useState } from 'react';\r\nimport './style.css';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getRealTimeConversations, getRealTimeUsers, updateMessage ,updateRealTimeView,getRealTimeNumberOfMessages} from '../../actions/user.actions';\r\n\r\n\r\nconst User = props => {\r\n   const {user ,onClick, newmessages} = props;\r\n   \r\n\r\n  \r\nreturn(\r\n              <div onClick={(e)=>onClick(user,e)} key={user.uid} className=\"displayName\">\r\n                  <div className='item'>\r\n                      {\r\n                        \r\n                       \r\n                      newmessages?newmessages[user.uid]?<span className=\"notify-badge\">{newmessages[user.uid]}</span> :'':''\r\n                       \r\n                      \r\n                      \r\n                        \r\n                      }\r\n                       <img className='Dp' src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcTr3k-GgfticbNEipXYeXapEpiiawOSHjXfsQ&usqp=CAU\" alt=\"Dp\" />\r\n                   </div>\r\n                       \r\n                   \r\n                   <div className=\"displayPerson\" style={{display: 'flex',flex: 1, justifyContent: 'space-between', margin: '0 10px',pointerEvents: 'none'}}>\r\n                       <span style={{fontWeight: 500}}>{user.FirstName} {user.LastName}</span>\r\n                       <span className={user.isOnline ? 'onlineStatus':'onlineStatus off' }>\r\n                           {\r\n                               user.isOnline? \r\n                               <i style={{color:'green'}} className=\"fa fa-dot-circle-o\" aria-hidden=\"true\"></i>:\r\n                               <i style={{color:'red'}} className=\"fa fa-dot-circle-o\" aria-hidden=\"true\"></i>\r\n                           }\r\n                       </span>\r\n                   </div>\r\n               </div>\r\n)\r\n}\r\nconst HomePage = (props) => {\r\n  const user = useSelector(state => state.user)\r\n  \r\n  const dispatch = useDispatch() \r\n  let unsubscribe;\r\n  const auth = useSelector(state => state.auth)\r\n  const newMessages = useSelector(state => state.user.newmessages)\r\n  \r\n  const [ChatStarted,setChatStarted] =useState(false)\r\n  const [ChatUser,setChatUser] =useState('')\r\n  const [message,setmessage] =useState('')\r\n  const [UserUid,setUserUid] =useState('')\r\n  const [view , setvisible]=useState(false)\r\n  \r\n  \r\n  const openModal = () => {\r\n      console.log('opened')\r\n      setvisible(true)\r\n  }\r\n  const closeModal = () => {\r\n   console.log('closed')\r\n      setvisible(false)\r\n  }\r\n   useEffect(()=>{\r\n      unsubscribe =  dispatch(getRealTimeUsers(auth.uid))\r\n         .then((unsubscribe)=>{\r\n            return unsubscribe\r\n         })\r\n         .catch((err)=>{\r\n             console.log(err)\r\n         })\r\n\r\n      \r\n   }, [])\r\n\r\n   useEffect(()=>{\r\n    \r\n       return ()=>{\r\n           unsubscribe.then(f=>f()).catch(err=>console.log(err))\r\n           \r\n       }\r\n   },[])\r\n   useEffect(()=>{\r\n   \r\n    \r\n        dispatch(getRealTimeNumberOfMessages(auth.uid))\r\n       \r\n   },[])\r\n   \r\n  \r\n   const initChat = (talkingwith ,e) => {\r\n           setChatStarted(true)\r\n           setUserUid(talkingwith.uid)\r\n           setChatUser( `${talkingwith.FirstName} ${talkingwith.LastName}`)         \r\n            const nusers=document.getElementsByClassName('displayName')      \r\n            for(let i = 0; i<nusers.length; i++ ){\r\n               nusers[i].className='displayName'\r\n              \r\n            }\r\n            e.target.className='displayName active'     \r\n            dispatch(getRealTimeConversations({uid_1: auth.uid, uid_2: talkingwith.uid  }))\r\n            dispatch(getRealTimeNumberOfMessages(auth.uid))            \r\n               \r\n                 dispatch(updateRealTimeView({uid_1: auth.uid, uid_2: talkingwith.uid  }))\r\n               \r\n            \r\n            console.log( auth.uid,talkingwith.uid)\r\n\r\n           \r\n       \r\n       \r\n        \r\n   } \r\n   const addEmoji = e => {\r\n       let emoji = e.native;\r\n       setmessage(message+emoji)\r\n       console.log(emoji)\r\n   };\r\n   const submitMsg = () => {\r\n       \r\n       var chatHistory = document.getElementsByClassName(\"messageSections\")[0];\r\n       \r\n      \r\n      \r\n       chatHistory.scrollTop = chatHistory.scrollHeight ;\r\n      \r\n        const msgObj ={\r\n            user_uid_1: auth.uid,\r\n            user_uid_2: UserUid,\r\n            message\r\n        }\r\n        if(message!==''){\r\n            dispatch(updateMessage(msgObj))\r\n            .then(()=>{\r\n              setmessage('')\r\n            })\r\n        }\r\n        \r\n   }\r\n return (\r\n     <Layout>\r\n         \r\n   <div className=\"container\">\r\n   <div className=\"listOfUsers\">\r\n      {\r\n          user.users.length > 0 ? \r\n          user.users.map(user => {\r\n              return(\r\n                <User onClick={initChat} key={user.uid} user={user} newmessages={newMessages}/>\r\n              )\r\n          })\r\n          : null\r\n      }\r\n               \r\n   </div>\r\n   <div className=\"chatArea\">\r\n     \r\n         \r\n       <div className=\"chatHeader\">\r\n              {\r\n                  ChatStarted?\r\n                  ChatUser: 'Start Chating By Clicking On Users'\r\n                  \r\n              }\r\n       </div>\r\n      \r\n       <div className=\"messageSections\">\r\n           {\r\n               ChatStarted?\r\n               \r\n               user.conversations.map((con,id)=>\r\n                   <div key={id} className={con.user_uid_1===auth.uid? 'sent': 'received'}   style={{ textAlign: con.user_uid_1===auth.uid? 'right': 'left' , marginTop: id===0? '15px': '2px'}}>\r\n                       \r\n                        {/* <p className={con.user_uid_1==auth.uid ?'messagestyleright':'messagestyleleft'}>{con.message}</p> */}\r\n                     \r\n                     <p className={ con.user_uid_1===auth.uid ? id==0 || user.conversations[id-1].user_uid_1!==auth.uid?'messagestyleright': 'normalrightmessage': id==0 || user.conversations[id-1].user_uid_1===auth.uid?'messagestyleleft':'normalleftmessage'} >\r\n                         {con.message} \r\n                     </p>\r\n                    {con.user_uid_1===auth.uid?con.isView?\r\n                    <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" className=\"bi bi-check2-all\" fill=\"blue\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                  <path fillrule=\"evenodd\" d=\"M12.354 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z\"/>\r\n                                  <path d=\"M6.25 8.043l-.896-.897a.5.5 0 1 0-.708.708l.897.896.707-.707zm1 2.414l.896.897a.5.5 0 0 0 .708 0l7-7a.5.5 0 0 0-.708-.708L8.5 10.293l-.543-.543-.707.707z\"/>\r\n                    </svg>\r\n                    :\r\n                    <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" className=\"bi bi-check2-all\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                  <path fill-rule=\"evenodd\" d=\"M12.354 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z\"/>\r\n                                  <path d=\"M6.25 8.043l-.896-.897a.5.5 0 1 0-.708.708l.897.896.707-.707zm1 2.414l.896.897a.5.5 0 0 0 .708 0l7-7a.5.5 0 0 0-.708-.708L8.5 10.293l-.543-.543-.707.707z\"/>\r\n                   </svg>:''}\r\n                        \r\n                  </div>\r\n               )\r\n               \r\n               : <img className='startchat'\r\n               src={require('../../assets/StartChat2.svg')}/>\r\n           \r\n          \r\n           }\r\n       </div>\r\n       {   \r\n           \r\n           ChatStarted?\r\n           <div className=\"chatControls\" >\r\n               <div    > \r\n                   <i className='fi fa fa-smile-o fa-2x' onClick={()=>openModal()}>\r\n                          \r\n                            \r\n                   </i>\r\n                  \r\n               </div>\r\n               \r\n               <div style={{width: '90%'  ,position:\"relative\",display:'flex',justifyContent:'center',alignItems:'center'}}>\r\n              \r\n                       <input         \r\n                       className='textarea' value={message} placeholder='Enter Message..' onChange={(e)=> setmessage(e.target.value)}    \r\n                       onKeyDown={(event)=>{\r\n                           if(event.key==='Enter'){\r\n                                   return submitMsg()                \r\n                           }\r\n                       }}></input>\r\n              </div>\r\n\r\n              \r\n               <button className='SendButton' onClick={submitMsg}><i className='fa fa-send-o'></i></button>\r\n           </div>: \"\"\r\n       }\r\n          <Modal\r\n           effect=\"fadeInUp\"\r\n           onClickAway={() => closeModal()}\r\n           visible={view}\r\n           >\r\n             <Picker onSelect={addEmoji}   />\r\n           </Modal>\r\n   </div>\r\n</div>\r\n\r\n</Layout>\r\n );\r\n}\r\n\r\nexport default HomePage;","\r\nimport React, {  useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Redirect } from 'react-router-dom'\r\nimport {  signin } from '../../actions'\r\n\r\nimport Layout from '../../Components/layout'\r\n\r\nimport './style.css'\r\n/**\r\n* @author\r\n* @function LoginPage\r\n**/\r\n\r\nconst LoginPage = (props) => {\r\n    const dispatch = useDispatch()\r\n    const auth = useSelector(state => state.auth)\r\n    const [email , setEmail] = useState('');\r\n    const [password , setPassword] = useState('')\r\n    const [ButtonClicked,setButtonClicked]=useState(false)\r\n    const [SignupButtonClicked,setsignup]=useState(false)\r\n    // useEffect(()=> {\r\n    //     if(!auth.authenticated){\r\n    //         dispatch(isLoggedInUser)\r\n    //     }\r\n    // },[])\r\n    const signUpClick=()=>{\r\n       setsignup(true)\r\n       \r\n         //\r\n    }\r\n    const userLogin = (e) => {\r\n        setButtonClicked(true)\r\n        e.preventDefault()\r\n        if ( email=== \"\" ){\r\n           alert(\"Email Is Required\")\r\n           return\r\n        }\r\n        if(password===\"\"){\r\n            alert(\"Password Is Required\")\r\n            return\r\n        }\r\n        dispatch(signin({email,password}))\r\n\r\n    }\r\n    if(auth.authenticated){\r\n        return <Redirect to={'/Chat-App'}/>\r\n    }\r\n    if (SignupButtonClicked){\r\n        return <Redirect to={'/signup'}/>\r\n      }\r\n            \r\n             \r\n             \r\n  return(\r\n     <Layout>\r\n       <div className='body'>\r\n        <div className=\"app\">\r\n        <div className='bg'>\r\n       \r\n        <form>\r\n\t\t\t<header>\r\n                <img \r\n                src={require('../../assets/login.svg')}/>\r\n\t\t\t</header>\r\n\r\n\t\t\t<div className=\"inputs\">\r\n\t\t\t\t<input type=\"email\" name=\"email\" placeholder=\"Email\"\r\n                  value={email}\r\n                  onChange={\r\n                      (e)=>{\r\n                          setEmail(e.target.value)\r\n                      }\r\n                  }\r\n                ></input>\r\n\t\t\t\t<input type=\"password\" name=\"password\" placeholder=\"password\"\r\n                 value={password}\r\n                 onChange={(e)=>{\r\n                     setPassword(e.target.value)\r\n                 }}\r\n                ></input>\r\n\r\n\t\t\t\t<p className=\"light\"><a href=\"#\">Forgot password?</a></p>\r\n\t\t\t</div>\r\n\r\n\t\t</form>\r\n\r\n\t\r\n\r\n       \r\n        </div>\r\n        <footer>\r\n            <button \r\n             className='LoginButton'\r\n             onClick={userLogin}>\r\n                 {\r\n                  ButtonClicked ?\r\n                  <i style={{fontSize:'20px'}}className=\"fa fa-spinner fa-spin \"></i>\r\n                  : 'Continue'\r\n                 }\r\n            \r\n            </button>\r\n\t\t\t<p>Don't have an account?  &nbsp;\r\n            &nbsp; <h4  onClick={signUpClick} >Sign Up</h4></p>\r\n\t\t</footer>\r\n\r\n        </div>\r\n        </div>\r\n        </Layout>\r\n   )\r\n\r\n }\r\n\r\nexport default LoginPage","import React, { useState } from 'react'\r\nimport Layout from '../../Components/layout'\r\nimport Card from '../../Components/UI'\r\nimport {signup} from '../../actions'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Redirect } from 'react-router-dom'\r\nimport './style.css'\r\n/**\r\n* @author\r\n* @function SignUpPage\r\n**/\r\nconst SignUpPage = (props) => {\r\n    const [FirstName , setFirstName] = useState('')\r\n    const [LastName , setlastName] = useState('')\r\n    const [email , setEmail] = useState('')\r\n    const [password , setPassword] = useState('')\r\n    const dispatch = useDispatch();\r\n    const [ButtonClicked,setButtonClicked]=useState(false)\r\n    const auth = useSelector(state => state.auth)\r\n    const [LoginButtonClicked,setLoginclicked] = useState(false)\r\n    const LoginClick = ()=>{\r\n        setLoginclicked(true)\r\n\r\n    }\r\n\r\nconst registerUser = (e) => {\r\n    setButtonClicked(true)\r\n    document.getElementsByClassName(\"SignUpButton\")[0].innerHTML=`<i className=\"fa fa-spinner fa-spin\">`;\r\n    e.preventDefault()\r\n    const user = {\r\n        FirstName,LastName,email,password\r\n\r\n    }\r\n    dispatch(signup(user))\r\n}\r\nif(auth.authenticated){\r\n    return <Redirect to={'/Chat-App'}/>\r\n}\r\nif(LoginButtonClicked){\r\n    return <Redirect to={'/login'}/>\r\n}\r\n\r\n  return(\r\n    <Layout>\r\n        <div className='body2'>\r\n        <div class=\"app2\">\r\n        <div className='bg2'>\r\n       \r\n        <form className=\"signinform\"\r\n        >\r\n        <img className=\"Signimg\" src={require('../../assets/sign.svg')}/>\r\n\r\n\t\t\t<div className=\"Signinputs\"\r\n           >\r\n            <input\r\n                name=\"FirstName\"\r\n                type='FirtName'\r\n                value={FirstName}\r\n                onChange={(e) =>{\r\n                   setFirstName(e.target.value)\r\n                }}\r\n                placeholder=\"FirstName\"\r\n                >\r\n                </input>\r\n                <input\r\n                name=\"LastName\"\r\n                type='LastName'\r\n                value={LastName}\r\n                onChange={(e) =>{\r\n                   setlastName(e.target.value)\r\n                }}\r\n                placeholder=\"LastName\"\r\n                >\r\n                </input>\r\n                <input\r\n                name=\"email\"\r\n                type='email'\r\n                value={email}\r\n                onChange={(e) =>{\r\n                   setEmail(e.target.value)\r\n                }}\r\n                placeholder=\"Email..\"\r\n                >\r\n                </input>\r\n                <input\r\n                name=\"password\"\r\n                type='password'\r\n                value={password}\r\n                onChange={(e) =>{\r\n                   setPassword(e.target.value)\r\n                }}\r\n                placeholder=\"Password\"\r\n                >\r\n                </input>\r\n\r\n\t\t\t</div>\r\n\r\n\t\t</form>\r\n\r\n        </div>\r\n        <footer>\r\n\t\t\t<button className='SignUpButton' onClick={registerUser}>\r\n            {\r\n                  ButtonClicked ?\r\n                  <i style={{fontSize:'20px'}}className=\"fa fa-spinner fa-spin \"></i>\r\n                  : 'Sign Up'\r\n                 }\r\n            </button>\r\n\t\t\t<p className=\"p\">Already a User ?&nbsp;\r\n            &nbsp;<h4 onClick={LoginClick}  > Login</h4>\r\n            </p>\r\n            \r\n            \r\n\t\t</footer>\r\n\r\n        </div>\r\n        </div>\r\n    </Layout>\r\n   )\r\n\r\n }\r\n\r\nexport default SignUpPage","import  React , {useEffect} from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {BrowserRouter as Router,Route} from 'react-router-dom'\nimport './App.css';\nimport PrivateRoute from './Components/PrivateRoute';\nimport HomePage from './Containers/Home';\nimport LoginPage from './Containers/Login';\nimport SignUpPage from './Containers/Register';\nimport {isLoggedInUser} from  './actions'\nfunction App() {\n\n\n\n  const dispatch = useDispatch();\n  const auth = useSelector(state => state.auth)\n\n  useEffect(() => {\n        if(!auth.authenticated){\n            dispatch(isLoggedInUser())\n        }\n    }, []);\n  \n  return (\n    <div className=\"App\">\n      <Router>\n        <PrivateRoute path='/Chat-App' exact component={HomePage}/>\n        <Route path='/login' component={LoginPage}/>\n        <Route path='/signup' component={SignUpPage}/>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import { UserConstants } from \"../actions/constants\"\r\n\r\nconst initstate ={\r\n    users:[],\r\n    conversations: []\r\n}\r\n\r\n\r\nexport default (state = initstate,action) => {\r\n  switch(action.type){\r\n    case `${UserConstants.GET_REAL_TIME_USERS}_REQUEST`:\r\n        break\r\n    case `${UserConstants.GET_REAL_TIME_USERS}_SUCCESS`:\r\n        state={\r\n            ...state,\r\n            users: action.payload.users\r\n        }\r\n        break\r\n    case UserConstants.GET_REALTIME_MESSAGES:\r\n        state={\r\n            ...state,\r\n            conversations: action.payload.conversations\r\n        }\r\n        break\r\n    case UserConstants.GET_REALTIME_NEW_MESSAGES:\r\n       \r\n        state={\r\n            ...state,\r\n            newmessages: action.payload.messages\r\n        }\r\n        break\r\n   \r\n    }\r\n    \r\n    return state\r\n}\r\n\r\n","import { authConstants } from \"../actions/constants\";\r\n\r\nconst initstate = {\r\n    FirstName : '',\r\n    LastName : ' ',\r\n    email : '',\r\n    authenticating: false,\r\n    authenticated: false,\r\n    error: null\r\n}\r\nexport default (state = initstate,action) => {\r\n    \r\n    switch(action.type){\r\n        case `${authConstants.USER_LOGIN}_REQUEST`:\r\n            state = {\r\n                ...state,\r\n                authenticating: true\r\n            }\r\n            break;\r\n        case  `${authConstants.USER_LOGIN}_SUCCESS`:\r\n            state={\r\n                ...state,\r\n                ...action.payload.user,\r\n                authenticated: true,\r\n                authenticating: false\r\n            }\r\n            break\r\n        case `${authConstants.USER_LOGIN}_FAILURE`:\r\n            state={\r\n                ...state,\r\n                error: action.payload.error,\r\n                authenticated: false,\r\n                authenticating: false\r\n            }\r\n            break\r\n        case `${authConstants.USER_LOGOUT}_REQUEST`:\r\n            break;\r\n        case `${authConstants.USER_LOGOUT}_SUCCESS`:\r\n            state={\r\n                ...initstate\r\n            }\r\n             break;\r\n        case `${authConstants.USER_LOGOUT}_FAILURE`:\r\n               state={\r\n                   ...state,\r\n                   error: action.payload.error\r\n\r\n               }\r\n                break;\r\n        \r\n             \r\n    }\r\n    return state\r\n}","import { combineReducers } from \"redux\"\r\nimport userReducer from './user.reducer'\r\nimport authReducer from './auth.reducer'\r\n\r\nconst rootReducer = combineReducers({\r\n    auth: authReducer,\r\n    user: userReducer,\r\n});\r\n\r\nexport default rootReducer;","import {applyMiddleware, createStore} from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport rootReducer from '../reducers'\r\n\r\nconst Store = createStore(rootReducer, applyMiddleware(thunk));\r\n\r\nexport default Store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport firebase from 'firebase'\nimport {Provider} from 'react-redux'\nimport store from './store'\nimport '../node_modules/font-awesome/css/font-awesome.min.css'; \nconst firebaseConfig = {\n  apiKey: \"AIzaSyBwgSea1nJXF2dr4CVgF7U9v4s8mYPOsCg\",\n  authDomain: \"chat-app-f6ff0.firebaseapp.com\",\n  databaseURL: \"https://chat-app-f6ff0.firebaseio.com\",\n  projectId: \"chat-app-f6ff0\",\n  storageBucket: \"chat-app-f6ff0.appspot.com\",\n  messagingSenderId: \"128106480680\",\n  appId: \"1:128106480680:web:af3f88cb6e8e04f57d211d\",\n  measurementId: \"G-Q6VRBKS781\"\n};\n\nfirebase.initializeApp(firebaseConfig)\nwindow.store = store\nReactDOM.render(\n  <Provider store={store}>\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}